# clothing-shoping project

---

é¡¹ç›®ç»“æ„

![image-20230910094435475](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309100944630.png)

[scss](https://sass-lang.com/)

![image-20230910095050964](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309100950082.png)

æ„å»ºæ•°æ®

![image-20230910095127449](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309100951534.png)

category-item

```jsx
import "./category-item.scss";
const CategoryItem = ({ category }) => {
  const { imageUrl, title } = category;
  return (
    <div className="category-container">
      <div
        className="background-image"
        style={{
          backgroundImage: `url(${imageUrl})`,
        }}
      ></div>
      <div className="category-body-container">
        <h1>{title}</h1>
        <p>shop cart</p>
      </div>
    </div>
  );
};
export default CategoryItem;
```

æ•ˆæœ

![image-20230910095358147](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309100953224.png)

directory-component

```jsx
import CategoryItem from "../category-item/category-item";
import "./directory.component.scss";
const Directory = ({ categorys }) => {
  return (
    <div className="directory-cointainer">
      {categorys.map(category => (
        <CategoryItem key={category.id} category={category} />
      ))}
    </div>
  );
};
export default Directory;
```
```
import { ReactComponent as CrowLogo } from "../../assets/crown.svg";
```
{ ReactComponent as CrowLogo }ï¼šè¿™éƒ¨åˆ†ä»£ç æ˜¯å°† SVG å›¾åƒä½œä¸º React ç»„ä»¶å¯¼å…¥ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå¯¼å…¥äº†ä¸€ä¸ªåä¸º CrowLogo çš„ React ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å°†ä»£è¡¨å¯¼å…¥çš„ SVG å›¾åƒã€‚
e.g
```
 <Link className="nav-logo__container" to="/">
          <CrowLogo className="nav-logo" />
          
        </Link>
```
firebase
[click here ğŸ‘](https://console.firebase.google.com/project/fast-gate-386514/overview)

Firebase æ˜¯ç”± Google æä¾›çš„ç§»åŠ¨åº”ç”¨å’Œ Web åº”ç”¨å¼€å‘å¹³å°ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—å·¥å…·å’ŒæœåŠ¡ï¼Œç”¨äºæ„å»ºé«˜è´¨é‡çš„åº”ç”¨ç¨‹åºã€‚Firebase æä¾›äº†å¤šç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®æ—¶æ•°æ®åº“ã€èº«ä»½è®¤è¯ã€äº‘å­˜å‚¨ã€äº‘å‡½æ•°ã€æ¨é€é€šçŸ¥ã€æ€§èƒ½ç›‘æ§ã€åˆ†æç­‰ã€‚ä¸‹é¢æ˜¯ Firebase æä¾›çš„ä¸€äº›ä¸»è¦åŠŸèƒ½å’ŒæœåŠ¡ï¼š



##### REACT CURD

![IMG_1469(20230912-101328)](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121030174.JPG)



fetch data from firebase 

e.g1 Anderi  fetch his own profile, Authentication after server send his profile to him

![IMG_1470(20230912-103044)](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121031606.JPG)

e.g2 Andrei want request  YiHua profile ,after Authentication, server not send the data to him

![IMG_1471(20230912-103104)](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121033680.JPG)

use firebase

```javascript
const firebaseApp = initializeApp(firebaseConfig);
const provider = new GoogleAuthProvider();
provider.setCustomParameters({
  prompt: "select_account",
});
export const auth = getAuth();
export const signInWithGooglePop = () => signInWithPopup(auth, provider);
const db = getFirestore();
export const createUserDocumentFromAuth = userAuth => {
  const userDocRef = doc(db, "user", userAuth.uid);
  console.log(userDocRef);
};

```

![image-20230912132605082](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121326321.png)

component 

```jsx
import {
  signInWithGooglePop,
  createUserDocumentFromAuth,
} from "../../utils/firebase.utils";

const Sign = () => {
  const loginGoogleUser = async () => {
    const {user} = await signInWithGooglePop();
    // console.log(user);
    createUserDocumentFromAuth(user)
  };
  return (
    <div>
      <h1>sign in</h1>
      <button onClick={loginGoogleUser}>sign with google user</button>
    </div>
  );
};

export default Sign;

```

![image-20230912135650752](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121356862.png)

![image-20230912135617113](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121356197.png)

sign with redirect

```javascript
export const signInWithGoogleRedirect = () =>
  signInWithRedirect(auth, googleProvider);
```

è¿™é‡Œæˆ‘ä»¬ä»£ç æ‰§è¡Œå®Œæˆåï¼Œæ§åˆ¶å°å´æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œä½†æ˜¯æˆ‘ä»¬æ£€æŸ¥firebaseï¼Œä»–è¿˜æ˜¯æ·»åŠ æˆåŠŸ

```jsx
  const loginWithRedirect = async () => {
    const { user } = await signInWithGoogleRedirect();
    console.log(user);
  };
```

å°½ç®¡æˆ‘ä»¬è¿™é‡Œæœ‰consoleè¯­å¥ï¼Œä½†æ˜¯æ§åˆ¶å°æ²¡æœ‰è¾“å‡ºä»»ä½•æœ‰å…³

![image-20230912144150508](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121441630.png)

ä½†æ˜¯æˆ‘ä»¬ç”¨popupæ‰§è¡Œï¼Œæ§åˆ¶å°è¾“å‡º

![image-20230912144258196](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121442263.png)

![image-20230912143937404](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309121439688.png)

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨getRedirectResultï¼ŒuseEffect hookå»è§£å†³

```jsx
import { getRedirectResult } from "firebase/auth";
import { useEffect } from "react";

```

```jsx
 useEffect(() => {
    const fetchData = async () => {
      try {
        const res = await getRedirectResult(auth);
        console.log(res);
      } catch (error) {
        console.error("Error fetching redirect result:", error);
      }
    };

    fetchData(); // è°ƒç”¨å¼‚æ­¥å‡½æ•°
  }, []);
```
å½“çŠ¶æ€æ”¹å˜æ—¶å‘ç”Ÿ
```javascript
  const onHandleChanged = e => {
    console.log(e.target); //<input id="name" name="displayName" type="text" required="" value="22">
    const { name, value } = e.target;
    console.log(name, value);
    setFormFields({ ...formFields, [name]: value });// è¿™é‡Œé‡‡ç”¨æ‰©å±•è¯­æ³•ï¼Œåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ–¹æ‹¬å·è¯­æ³•[express]ï¼Œè·Ÿè¡¨è¾¾å¼ï¼švalueå°±æ˜¯åé¢çš„å€¼
    è¾“å‡ºå°±åƒè¿™æ · {displayName: '2'}
    console.log({[name]: value});
  };
// {displayName: '2', email: '23', password: '', confirmPassword: ''}
```
æ ‡ç­¾é‡Œé¢çš„å€¼
```javascript
  <label >display name</label>
        <input
          id="name"
          name="displayName"
          type="text"
          onChange={onHandleChanged}
          required
          value={displayName}
        />
```
åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œèµ‹å€¼
```javascript
const defaultFormField = {
  displayName: "",
  email: "",
  password: "",
  confirmPassword: "",
};
```
åˆ©ç”¨useState
```jsx
  const [formFields, setFormFields] = useState(defaultFormField);
const { displayName, email, password, confirmPassword } = formFields; // è§£æ„è¿™ä¸ªå¯¹è±¡
```

formInput component
```jsx
import "./formInput.style.scss";
const FromInput = ({ label, ...otherProps }) => {
  return (
    <div className="form-input__container">
      <input className="form-input__text" {...otherProps} />
      {label && (
        <label
          className={`${
            otherProps.value.length ? "shrink" : ""
          } form-input__label`}
        >
          {label}
        </label>
      )}
    </div>
  );
};
export default FromInput;

```

è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†ï¼ŒçŸ­è·¯æ“ä½œç¬¦

```jsx
{label && (
        <label
          className={`${
            otherProps.value.length ? "shrink" : ""
          } form-input__label`}
        >
          {label}
        </label>
      )}
// å½“labelä¸ºtrueæ—¶ï¼Œæˆ‘ä»¬å°±è¿è¡Œå³çš„ã€‚
```

æˆ‘ä»¬æ³¨æ„åˆ°è¿™é‡Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œlabelï¼Œè¿˜æœ‰ä¸€ä¸ªæ‰©å±•è¯­æ³•ç»„æˆçš„å‚æ•°

å½“æˆ‘ä»¬çˆ¶ç»„ä»¶è°ƒç”¨æ—¶

```jsx
    <FromInput
          label="displayName"
          id="name"
          name="displayName"
          type="text"
          onChange={onHandleChanged}
          required
          value={displayName}
        />
```

è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªä¼ é€’äº†ä¸€äº›åˆ—å‚æ•°ï¼Œè¿™æ ·å°±å¾ˆæ–¹ä¾¿ã€‚

æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä»–æ”¾åœ¨ä¸€ä¸ªobjecté‡Œé¢

```jsx
<FromInput
          label="displayName"
          inputOptions={{
            id: "name",
            name: "displayName",
            type: "text",
            onChange: onHandleChanged,
            required: true,
            value: displayName,
          }}
        />
```

![image-20230914151623801](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309141516082.png)

##### Sign in

æˆ‘ä»¬å…ˆcopy ä¸€ä»½ä»sign up 

æˆ‘ä»¬ç»§ç»­åœ¨sign inåˆ›å»ºä¸€ä¸ªgoogleç™»é™†æ–¹æ³•

```jsx
  const signWithGoogle = async () => {
    const { user } = await signInWithGooglePop();
    // console.log(user);
    await createUserDocumentFromAuth(user);
  };
```

æˆ‘ä»¬ä¿®æ”¹ onHandleSubmitï¼ˆï¼‰ï¼Œtry block

```jsx
 try {
      const response = await signInAuthUserWithEmailAndPassword(
        email,
        password
      );
      console.log(response);
      /**
       * clear form input
       */
      resetFormField();
    }
```

catch

```jsx
catch (error) {
      switch (error.code) {
        case "auth/user-not-found":
          alert("ğŸ‘¤.user not found, please try again, \u{1F920} ");
          break;
        case "auth/wrong-password":
          alert("ğŸ”‘.password is incorrect, please try again");
          break;
        default:
          console.log(error);
      }
    }
```

input changed ()

```jsx
  const onHandleChanged = e => {
    console.log(e.target);
    const { name, value } = e.target;
    console.log(name, value);
    setFormFields({ ...formFields, [name]: value });
    console.log({ [name]: value });
  };
```



authen page

```jsx
  return (
    <div className="authentication-container">
      <SignInForm />
      <SignUpForm />
    </div>
  );
```

![image-20230915105443833](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309151054306.png)

### useContext

![IMG_1474(20230915-103813)](https://makeforpicgo.oss-cn-chengdu.aliyuncs.com/study/202309151055699.JPG)

Lifting state up

![Diagram with a tree of three components. The parent contains a bubble representing a value highlighted in purple. The value flows down to each of the two children, both highlighted in purple.](https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fpassing_data_lifting_state.dark.png&w=1920&q=75)

Prop drilling

![Diagram with a tree of ten nodes, each node with two children or less. The root node contains a bubble representing a value highlighted in purple. The value flows down through the two children, each of which pass the value but do not contain it. The left child passes the value down to two children which are both highlighted purple. The right child of the root passes the value through to one of its two children - the right one, which is highlighted purple. That child passed the value through its single child, which passes it down to both of its two children, which are highlighted purple.](https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fpassing_data_prop_drilling.dark.png&w=1920&q=75)

Using context in close children

![Diagram with a tree of three components. The parent contains a bubble representing a value highlighted in orange which projects down to the two children, each highlighted in orange.](https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fpassing_data_context_close.dark.png&w=1920&q=75)

Using context in distant children

![Diagram with a tree of ten nodes, each node with two children or less. The root parent node contains a bubble representing a value highlighted in orange. The value projects down directly to four leaves and one intermediate component in the tree, which are all highlighted in orange. None of the other intermediate components are highlighted.](https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fpassing_data_context_far.dark.png&w=1920&q=75)